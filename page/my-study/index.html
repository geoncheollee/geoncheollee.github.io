<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê³µë¶€í•˜ê³  ìžˆëŠ” ê¸°ìˆ </title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
    }
    #map-container {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="map-container"></div>

  <script type="module">
    import MindElixir from 'https://geoncheollee.github.io/thirdpartylib/MindElixir.js';

    const mind = new MindElixir({
      el: '#map-container',
      direction: MindElixir.SIDE,
      draggable: true,
      contextMenu: true,
      toolBar: true,
      nodeMenu: true,
      keypress: true,
    });

    const data = {
      nodeData: {
        id: 'root',
        topic: ' ê³µë¶€í•˜ê³  ìžˆëŠ” ê¸°ìˆ ',
        children: [
          {
            topic: 'ì•„í‚¤í…ì²˜',
            id: 'architecture',
            children: [
              { 
                topic: 'ê¸°ìˆ ë¸”ë¡œê·¸',
                id: 'techBlog',
                children: [
                  {
                    topic: 'ë‹¹ê·¼ë§ˆì¼“ - ê³„ì¸µí˜• ë° ìœ¡ê°í˜• ì•„í‚¤í…ì²˜ ë„ìž… ì‚¬ë¡€ ðŸ‘‰',
                    id: 'carrotCase1'
                  },
                ]
              },
              { 
                topic: 'MSA',
                id: 'msa',
              },
              { 
                topic: 'ì¿ ë²„ë„¤í‹°ìŠ¤(k8s)',
                id: 'k8s',
              },
            ]
          },
          {
            topic: 'TODO',
            id: 'todo',
            children: [
              { 
                topic: 'kafka',
                id: 'kafka',
              },
              { 
                topic: 'EDA',
                id: 'eda',
              },
              { 
                topic: 'ë¹„ë™ê¸°',
                id: 'async',
              },
              { 
                topic: 'DDD',
                id: 'ddd',
              },
              { 
                topic: 'TDD',
                id: 'tdd',
              },
              { 
                topic: 'TDD',
                id: 'tdd',
              },
              { 
                topic: 'JPA',
                id: 'jpa',
              },
              { 
                topic: 'REDIS',
                id: 'redis',
                children: [
                  { 
                    topic: 'í´ëŸ¬ìŠ¤í„°ë§',
                    id: 'redisCluster',
                  },
                  { 
                    topic: 'í´ëŸ¬ìŠ¤í„°ë§',
                    id: 'redisSentinel',
                  },
                ]
              },
            ]
          },
        ]
      },
      linkData: {},
    };

    mind.init(data);

    /**
     * selectNode	ë…¸ë“œë¥¼ í´ë¦­í–ˆì„ ë•Œ
       expandNode	ë…¸ë“œë¥¼ íŽ¼ì³¤ì„ ë•Œ
       collapseNode	ë…¸ë“œë¥¼ ì ‘ì—ˆì„ ë•Œ
       finishEdit	ë…¸ë“œ í…ìŠ¤íŠ¸ ìˆ˜ì •ì„ ë§ˆì³¤ì„ ë•Œ
       operation	ë…¸ë“œ ì¶”ê°€/ì‚­ì œ/ì´ë™ ë“± ì¡°ìž‘ ì‹œ
    **/
    mind.bus.addListener('selectNode', (node) => {
      const nodeId = node.id;

      if(nodeId == "carrotCase1") {
        window.open("https://medium.com/daangn/%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC%EC%9D%80-%EC%B2%98%EC%9D%8C%EC%9D%B4%EB%9D%BC-b75dffd73eb0", '_blank');
        return;
      }

    });
  </script>
</body>
</html>
